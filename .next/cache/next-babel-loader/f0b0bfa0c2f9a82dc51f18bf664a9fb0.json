{"ast":null,"code":"//pelo nex pode usar o import\nimport { GoogleSpreadsheet } from 'google-spreadsheet';\nimport credentials from '../../credentials.json';\nconst doc = new GoogleSpreadsheet('1RS3tQeiyuF9S25VHOLdkuCCMR8vQncxEuyXYg20wE-M ');\nexport default (async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[1];\n    await sheet.loadCells('A3:B3');\n    const celpromo = sheet.getCell(2, 0);\n    console.log(celpromo.value);\n    const celltexto = sheet.getCell(2, 1);\n    console.log(celltexto.value);\n    res.end(JSON.stringify({\n      showCupon: celpromo.value === 'VERDADEIRO',\n      message: celltexto.value\n    }));\n  } catch (err) {\n    res.end(JSON.stringify({\n      showCupon: false,\n      message: ''\n    }));\n  }\n});","map":{"version":3,"sources":["H:/Projetos/palpit-box/pages/api/get-promo.js"],"names":["GoogleSpreadsheet","credentials","doc","req","res","useServiceAccountAuth","loadInfo","sheet","sheetsByIndex","loadCells","celpromo","getCell","console","log","value","celltexto","end","JSON","stringify","showCupon","message","err"],"mappings":"AACA;AACA,SAASA,iBAAT,QAAkC,oBAAlC;AAEA,OAAOC,WAAP,MAAwB,wBAAxB;AAEA,MAAMC,GAAG,GAAG,IAAIF,iBAAJ,CAAsB,+CAAtB,CAAZ;AAMA,gBAAe,OAAMG,GAAN,EAAUC,GAAV,KAAiB;AAE5B,MAAG;AACC,UAAMF,GAAG,CAACG,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,UAAMC,GAAG,CAACI,QAAJ,EAAN;AAEA,UAAMC,KAAK,GAAGL,GAAG,CAACM,aAAJ,CAAkB,CAAlB,CAAd;AACA,UAAMD,KAAK,CAACE,SAAN,CAAgB,OAAhB,CAAN;AAEA,UAAMC,QAAQ,GAAGH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiB,CAAjB,CAAjB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,KAArB;AAEA,UAAMC,SAAS,GAAGR,KAAK,CAACI,OAAN,CAAc,CAAd,EAAgB,CAAhB,CAAlB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYE,SAAS,CAACD,KAAtB;AAEAV,IAAAA,GAAG,CAACY,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAe;AACnBC,MAAAA,SAAS,EAAGT,QAAQ,CAACI,KAAT,KAAmB,YADZ;AAEnBM,MAAAA,OAAO,EAAGL,SAAS,CAACD;AAFD,KAAf,CAAR;AAIH,GAjBD,CAiBC,OAAMO,GAAN,EAAU;AACPjB,IAAAA,GAAG,CAACY,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAe;AACnBC,MAAAA,SAAS,EAAG,KADO;AAEnBC,MAAAA,OAAO,EAAM;AAFM,KAAf,CAAR;AAIH;AAEJ,CA1BD","sourcesContent":["\r\n//pelo nex pode usar o import\r\nimport { GoogleSpreadsheet } from 'google-spreadsheet'\r\n\r\nimport credentials from '../../credentials.json'\r\n\r\nconst doc = new GoogleSpreadsheet('1RS3tQeiyuF9S25VHOLdkuCCMR8vQncxEuyXYg20wE-M ')\r\n\r\n\r\n\r\n\r\n\r\nexport default async(req,res) =>{\r\n\r\n    try{\r\n        await doc.useServiceAccountAuth(credentials)\r\n        await doc.loadInfo()\r\n\r\n        const sheet = doc.sheetsByIndex[1]\r\n        await sheet.loadCells('A3:B3')\r\n\r\n        const celpromo = sheet.getCell(2 ,0)\r\n        console.log(celpromo.value)\r\n\r\n        const celltexto = sheet.getCell(2,1)\r\n        console.log(celltexto.value)\r\n\r\n        res.end(JSON.stringify({\r\n            showCupon : celpromo.value === 'VERDADEIRO',\r\n            message : celltexto.value\r\n        }))\r\n    }catch(err){\r\n        res.end(JSON.stringify({\r\n            showCupon : false,\r\n            message :    ''    \r\n       }))\r\n    }\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}