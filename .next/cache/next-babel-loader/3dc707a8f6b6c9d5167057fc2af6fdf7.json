{"ast":null,"code":"import { GoogleSpreadsheet } from 'google-spreadsheet';\nimport credentials from '../../credentials.json';\nconst doc = new GoogleSpreadsheet('1RS3tQeiyuF9S25VHOLdkuCCMR8vQncxEuyXYg20wE-M');\nexport default (async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[2];\n    const data = JSON.parse(req.body);\n    await sheet.addRow({\n      Nome: 'Tulio Faria',\n      Email: 'blablabla@gmail.com',\n      Whatsapp: '75 997876532',\n      Cupom: '8098090798',\n      Promo: 'fewrewf'\n    });\n    res.end(req.body);\n  } catch (err) {\n    res.end('error');\n  }\n}); //JSON.parse transforma para objeto","map":{"version":3,"sources":["H:/Projetos/palpit-box/pages/api/save.js"],"names":["GoogleSpreadsheet","credentials","doc","req","res","useServiceAccountAuth","loadInfo","sheet","sheetsByIndex","data","JSON","parse","body","addRow","Nome","Email","Whatsapp","Cupom","Promo","end","err"],"mappings":"AAAA,SAAQA,iBAAR,QAAgC,oBAAhC;AAEA,OAAOC,WAAP,MAAwB,wBAAxB;AAEA,MAAMC,GAAG,GAAE,IAAIF,iBAAJ,CAAsB,8CAAtB,CAAX;AAEA,gBAAe,OAAMG,GAAN,EAAUC,GAAV,KAAiB;AAC5B,MAAG;AACC,UAAMF,GAAG,CAACG,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,UAAMC,GAAG,CAACI,QAAJ,EAAN;AACA,UAAMC,KAAK,GAAEL,GAAG,CAACM,aAAJ,CAAkB,CAAlB,CAAb;AACA,UAAMC,IAAI,GAAEC,IAAI,CAACC,KAAL,CAAWR,GAAG,CAACS,IAAf,CAAZ;AACA,UAAML,KAAK,CAACM,MAAN,CAAa;AACfC,MAAAA,IAAI,EAAE,aADS;AAEfC,MAAAA,KAAK,EAAE,qBAFQ;AAGfC,MAAAA,QAAQ,EAAC,cAHM;AAIfC,MAAAA,KAAK,EAAE,YAJQ;AAKfC,MAAAA,KAAK,EAAE;AALQ,KAAb,CAAN;AAOAd,IAAAA,GAAG,CAACe,GAAJ,CAAQhB,GAAG,CAACS,IAAZ;AACH,GAbD,CAaC,OAAMQ,GAAN,EAAU;AACPhB,IAAAA,GAAG,CAACe,GAAJ,CAAQ,OAAR;AACH;AACJ,CAjBD,E,CAoBA","sourcesContent":["import {GoogleSpreadsheet} from 'google-spreadsheet'\r\n\r\nimport credentials from '../../credentials.json'\r\n\r\nconst doc= new GoogleSpreadsheet('1RS3tQeiyuF9S25VHOLdkuCCMR8vQncxEuyXYg20wE-M')\r\n\r\nexport default async(req,res) =>{\r\n    try{\r\n        await doc.useServiceAccountAuth(credentials)\r\n        await doc.loadInfo()\r\n        const sheet =doc.sheetsByIndex[2]\r\n        const data =JSON.parse(req.body)\r\n        await sheet.addRow({\r\n            Nome :'Tulio Faria',\r\n            Email: 'blablabla@gmail.com',\r\n            Whatsapp:'75 997876532',\r\n            Cupom: '8098090798',\r\n            Promo: 'fewrewf'\r\n        })        \r\n        res.end(req.body)\r\n    }catch(err){\r\n        res.end('error')\r\n    }\r\n}\r\n\r\n\r\n//JSON.parse transforma para objeto "]},"metadata":{},"sourceType":"module"}